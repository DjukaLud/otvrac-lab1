{"ast":null,"code":"var _jsxFileName = \"E:\\\\5. semestar\\\\OtvRac\\\\lab2-react\\\\client\\\\src\\\\pages\\\\Datatable.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport \"../components/App.css\";\nimport { useState, useEffect } from \"react\";\nimport { getKlubovi, getFull, exportCSV, exportJSON, getIgraci } from \"../utils/fetch\";\nimport DataTable from 'react-data-table-component';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Datatable = props => {\n  _s();\n\n  const [klubovi, setKluboviList] = useState([]);\n  const [columns, setColumns] = useState([]);\n  const [filter, setFilter] = useState(\"\");\n  const [filterOption, setFilterOption] = useState(\"wildcard\"); //console.log(columns)\n\n  let options = [];\n\n  if (klubovi[0]) {\n    for (var i of Object.keys(klubovi[0])) options.push( /*#__PURE__*/_jsxDEV(\"option\", {\n      value: i,\n      children: i\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 56\n    }, this));\n  }\n\n  if (filterOption === \"wildcard\") {\n    var filtriraniKlubovi = [];\n\n    if (klubovi.length > 0) {\n      filtriraniKlubovi = klubovi.filter(klub => {\n        for (let value in klub) {\n          if (klub[value] === null) continue;\n          if (klub[value].toString().toLowerCase().includes(filter.toString().toLowerCase())) return true;\n        }\n\n        return false;\n      });\n    }\n  } else {\n    if (klubovi.length > 0) {\n      var filtriraniKlubovi = klubovi.filter(value => {\n        return value[filterOption].toString().toLowerCase().includes(filter.toString().toLowerCase());\n      });\n    } else {\n      var filtriraniKlubovi = [];\n    }\n  }\n\n  useEffect(() => {\n    const res = getFull().then(item => {\n      setKluboviList(item.klubovi);\n      let tempRedovi = [];\n\n      for (let i of Object.keys(item.klubovi[0])) {\n        tempRedovi.push({\n          name: i,\n          selector: row => row[i]\n        });\n      }\n\n      setColumns(tempRedovi);\n    });\n  }, []);\n\n  let handleChange = event => {\n    setFilter(event.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          class: \"logo\",\n          src: \"../img/lopta.png\",\n          alt: \"lopta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(TableSection, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterOption,\n          onChange: e => setFilterOption(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"wildcard\",\n            children: \"All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this), options]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"filter\",\n          id: \"filter\",\n          placeholder: \"filter\",\n          value: filter,\n          onChange: event => {\n            handleChange(event);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n      columns: columns,\n      data: filtriraniKlubovi,\n      pagination: true,\n      highlightOnHover: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ExportButton, {\n      onClick: () => exportCSV(filtriraniKlubovi),\n      children: \"CSV\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ExportButton, {\n      onClick: () => exportJSON(filtriraniKlubovi),\n      children: \"JSON\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"exporti\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        hidden: true,\n        id: \"exportCSV\",\n        href: \"./exportCSV.csv\",\n        download: \"klubovi\",\n        target: \"_blank\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        hidden: true,\n        id: \"exportJSON\",\n        href: \"./exportJSON.json\",\n        download: \"klubovi\",\n        target: \"_blank\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Datatable, \"xX9mEmM1gPppGKzzWi619qd9Y5I=\");\n\n_c = Datatable;\nexport default Datatable; //styles\n\nconst TableSection = styled.section`\n    margin-left: 1100px;\n\n`;\n_c2 = TableSection;\nconst ExportButton = styled.button`\n  padding:5px;\n  margin: 5px;\n`;\n_c3 = ExportButton;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Datatable\");\n$RefreshReg$(_c2, \"TableSection\");\n$RefreshReg$(_c3, \"ExportButton\");","map":{"version":3,"names":["React","styled","useState","useEffect","getKlubovi","getFull","exportCSV","exportJSON","getIgraci","DataTable","Datatable","props","klubovi","setKluboviList","columns","setColumns","filter","setFilter","filterOption","setFilterOption","options","i","Object","keys","push","filtriraniKlubovi","length","klub","value","toString","toLowerCase","includes","res","then","item","tempRedovi","name","selector","row","handleChange","event","target","e","preventDefault","TableSection","section","ExportButton","button"],"sources":["E:/5. semestar/OtvRac/lab2-react/client/src/pages/Datatable.js"],"sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport \"../components/App.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getKlubovi, getFull, exportCSV, exportJSON, getIgraci } from \"../utils/fetch\";\r\n\r\n\r\nimport DataTable from 'react-data-table-component';\r\n\r\n\r\n\r\n\r\nconst Datatable = (props) => {\r\n  const [klubovi, setKluboviList] = useState([]);\r\n  const [columns, setColumns] = useState([]);\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [filterOption, setFilterOption] = useState(\"wildcard\");\r\n  \r\n  \r\n  \r\n  //console.log(columns)\r\n  let options=[]\r\n  if(klubovi[0]){\r\n    for(var i of Object.keys(klubovi[0])) options.push(<option key={i} value={i}>{i}</option>)\r\n  }  \r\n  \r\n  if(filterOption === \"wildcard\"){\r\n\r\n    var filtriraniKlubovi = []\r\n    if(klubovi.length > 0){\r\n      filtriraniKlubovi = klubovi.filter((klub)=>{\r\n        for(let value in klub){\r\n            if(klub[value] === null) continue;\r\n            if(klub[value].toString().toLowerCase().includes(filter.toString().toLowerCase())) return true;\r\n        }\r\n        return false;\r\n      })\r\n    }\r\n  } else {\r\n\r\n        if(klubovi.length > 0){\r\n            var filtriraniKlubovi = klubovi.filter((value)=>{\r\n            return value[filterOption].toString().toLowerCase().includes(filter.toString().toLowerCase())\r\n            })\r\n        } else {\r\n            var filtriraniKlubovi = [];\r\n        }\r\n  }\r\n \r\n  useEffect(() => {\r\n    const res = getFull().then((item) => {\r\n      setKluboviList(item.klubovi);\r\n      let tempRedovi=[];\r\n      \r\n      for(let i of Object.keys(item.klubovi[0])){\r\n        tempRedovi.push({name: i, selector: (row) => row[i]})\r\n      }\r\n\r\n      setColumns(tempRedovi);\r\n    });\r\n  }, []);\r\n   \r\n  let handleChange=(event)=>{\r\n    setFilter(event.target.value);\r\n  }\r\n  \r\n  return (<>\r\n    <center><a href=\"/\"><img class=\"logo\" src=\"../img/lopta.png\" alt=\"lopta\"/></a></center>\r\n    <TableSection>\r\n        <form onSubmit={(e) => e.preventDefault()}>\r\n            <select value={filterOption} onChange={(e) => setFilterOption(e.target.value)}>\r\n                <option value={\"wildcard\"}>All</option>\r\n                {options}\r\n            </select>\r\n          <input type=\"text\" name=\"filter\" id=\"filter\" placeholder=\"filter\" value={filter} onChange={(event)=>{handleChange(event)}}></input>\r\n        </form>\r\n        </TableSection>\r\n        <DataTable\r\n            columns={columns}\r\n            data={filtriraniKlubovi}\r\n            pagination\r\n            highlightOnHover\r\n        />\r\n        <ExportButton onClick={()=>exportCSV(filtriraniKlubovi)}>CSV</ExportButton>\r\n        <ExportButton onClick={()=>exportJSON(filtriraniKlubovi)}>JSON</ExportButton>\r\n        <div class=\"exporti\">\r\n          <a hidden id=\"exportCSV\" href=\"./exportCSV.csv\" download=\"klubovi\" target=\"_blank\"></a>\r\n          <a hidden id=\"exportJSON\" href=\"./exportJSON.json\" download=\"klubovi\" target=\"_blank\"></a>\r\n        </div>\r\n    </>\r\n  );\r\n  \r\n};\r\n\r\nexport default Datatable;\r\n\r\n//styles\r\n const TableSection= styled.section`\r\n    margin-left: 1100px;\r\n\r\n`;\r\n\r\nconst ExportButton=styled.button`\r\n  padding:5px;\r\n  margin: 5px;\r\n`; "],"mappings":"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"},"metadata":{},"sourceType":"module"}