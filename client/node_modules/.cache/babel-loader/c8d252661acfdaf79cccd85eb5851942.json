{"ast":null,"code":"var _jsxFileName = \"E:\\\\5. semestar\\\\OtvRac\\\\lab2-react\\\\client\\\\src\\\\pages\\\\Datatable.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport \"../components/App.css\";\nimport { useState, useEffect } from \"react\";\nimport { getKlubovi, getFull, exportCSV, exportJSON, getIgraci } from \"../utils/fetch\";\nimport DataTable from 'react-data-table-component';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Datatable = props => {\n  _s();\n\n  const [klubovi, setKluboviList] = useState([]);\n  const [columns, setColumns] = useState([]);\n  const [filter, setFilter] = useState(\"\");\n  const [filterOption, setFilterOption] = useState(\"wildcard\"); //console.log(columns)\n\n  let options = [];\n\n  if (klubovi[0]) {\n    for (var i of Object.keys(klubovi[0])) options.push( /*#__PURE__*/_jsxDEV(\"option\", {\n      value: i,\n      children: i\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 56\n    }, this));\n  }\n\n  if (filterOption === \"wildcard\") {\n    var kluboviArray = [];\n\n    if (klubovi.length > 0) {\n      klubovi.filter(klub => {\n        for (let value in klub) {\n          if (klub[value] === null) continue;\n          if (klub[value].toString().toLowerCase().includes(filter.toString().toLowerCase())) return true;\n        }\n\n        return false;\n      });\n    }\n  } else {\n    console.log(filterOption);\n    var kluboviArray = klubovi.length > 0 ? klubovi.filter(value => {\n      return value[filterOption].toString().toLowerCase().includes(filter.toString().toLowerCase());\n    }) : [];\n  }\n\n  useEffect(() => {\n    const res = getKlubovi().then(item => {\n      setKluboviList(item.klubovi);\n      let columnsTemp = [];\n      Object.keys(item.klubovi[0]).forEach(key => columnsTemp.push({\n        name: key,\n        selector: row => row[key]\n      }));\n      console.log(columnsTemp);\n      setColumns(columnsTemp);\n    });\n  }, []);\n\n  let handleChange = event => {\n    setFilter(event.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TableSection, {\n      children: [/*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            class: \"logo\",\n            src: \"../img/lopta.png\",\n            alt: \"lopta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 27\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterOption,\n          onChange: e => setFilterOption(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"wildcard\",\n            children: \"svi podatci\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this), options]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"filter\",\n          id: \"filter\",\n          placeholder: \"filtriraj\",\n          value: filter,\n          onChange: event => {\n            handleChange(event);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n      columns: columns,\n      data: kluboviArray,\n      pagination: true,\n      highlightOnHover: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Datatable, \"xX9mEmM1gPppGKzzWi619qd9Y5I=\");\n\n_c = Datatable;\nexport default Datatable; //styles\n\nconst TableSection = styled.section`\n    margin-left: 10px;\n\n`;\n_c2 = TableSection;\nconst ExportButton = styled.button`\n  padding:5px;\n  margin: 5px;\n`;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Datatable\");\n$RefreshReg$(_c2, \"TableSection\");","map":{"version":3,"names":["React","styled","useState","useEffect","getKlubovi","getFull","exportCSV","exportJSON","getIgraci","DataTable","Datatable","props","klubovi","setKluboviList","columns","setColumns","filter","setFilter","filterOption","setFilterOption","options","i","Object","keys","push","kluboviArray","length","klub","value","toString","toLowerCase","includes","console","log","res","then","item","columnsTemp","forEach","key","name","selector","row","handleChange","event","target","e","preventDefault","TableSection","section","ExportButton","button"],"sources":["E:/5. semestar/OtvRac/lab2-react/client/src/pages/Datatable.js"],"sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport \"../components/App.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getKlubovi, getFull, exportCSV, exportJSON, getIgraci } from \"../utils/fetch\";\r\n\r\n\r\nimport DataTable from 'react-data-table-component';\r\n\r\n\r\n\r\n\r\nconst Datatable = (props) => {\r\n  const [klubovi, setKluboviList] = useState([]);\r\n  const [columns, setColumns] = useState([]);\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [filterOption, setFilterOption] = useState(\"wildcard\");\r\n  \r\n  \r\n  \r\n  //console.log(columns)\r\n  let options=[]\r\n  if(klubovi[0]){\r\n    for(var i of Object.keys(klubovi[0])) options.push(<option key={i} value={i}>{i}</option>)\r\n  }  \r\n  \r\n  if(filterOption === \"wildcard\"){\r\n\r\n    var kluboviArray = []\r\n    if(klubovi.length > 0){\r\n      klubovi.filter((klub)=>{\r\n        for(let value in klub){\r\n            if(klub[value] === null) continue;\r\n            if(klub[value].toString().toLowerCase().includes(filter.toString().toLowerCase())) return true;\r\n        }\r\n        return false;\r\n      })\r\n    }\r\n  }\r\n  else{\r\n    console.log(filterOption)\r\n    var kluboviArray = klubovi.length>0 ? klubovi.filter((value)=>{\r\n        return value[filterOption].toString().toLowerCase().includes(filter.toString().toLowerCase())\r\n        }) : [];\r\n  }\r\n \r\n  \r\n  useEffect(() => {\r\n    const res = getKlubovi().then((item) => {\r\n      setKluboviList(item.klubovi);\r\n      let columnsTemp=[];\r\n      \r\n      Object.keys(item.klubovi[0]).forEach(key => columnsTemp.push({name: key, selector: (row)=>row[key]}))\r\n      console.log(columnsTemp)\r\n      setColumns(columnsTemp);\r\n    });\r\n  }, []);\r\n   \r\n  let handleChange=(event)=>{\r\n    setFilter(event.target.value);\r\n\r\n  }\r\n  return (<>\r\n    <TableSection>\r\n      <center><a href=\"/\"><img class=\"logo\" src=\"../img/lopta.png\" alt=\"lopta\"/></a></center>\r\n        <form onSubmit={(e) => e.preventDefault()}>\r\n            <select value={filterOption} onChange={(e) => setFilterOption(e.target.value)}>\r\n                <option value={\"wildcard\"}>svi podatci</option>\r\n                {options}\r\n            </select>\r\n          <input type=\"text\" name=\"filter\" id=\"filter\" placeholder=\"filtriraj\" value={filter} onChange={(event)=>{handleChange(event)}}></input>\r\n        </form>\r\n        </TableSection>\r\n        <DataTable\r\n            columns={columns}\r\n            data={kluboviArray}\r\n            pagination\r\n            highlightOnHover\r\n        />\r\n    </>\r\n  );\r\n  \r\n};\r\n\r\nexport default Datatable;\r\n\r\n//styles\r\nconst TableSection= styled.section`\r\n    margin-left: 10px;\r\n\r\n`;\r\n\r\nconst ExportButton=styled.button`\r\n  padding:5px;\r\n  margin: 5px;\r\n`;"],"mappings":"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"},"metadata":{},"sourceType":"module"}