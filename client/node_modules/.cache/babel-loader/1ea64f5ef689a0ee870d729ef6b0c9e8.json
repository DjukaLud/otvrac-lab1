{"ast":null,"code":"var _jsxFileName = \"E:\\\\5. semestar\\\\OtvRac\\\\lab2-react\\\\client\\\\src\\\\pages\\\\Datatable.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport \"../components/App.css\";\nimport { useState, useEffect } from \"react\";\nimport { getKlubovi, getFull, exportCSV, exportJSON } from \"../utils/fetch\";\nimport DataTable from 'react-data-table-component';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Datatable = props => {\n  _s();\n\n  const [klubovi, setKluboviList] = useState([]);\n  const [columns, setColumns] = useState([]);\n  const [filter, setFilter] = useState(\"\");\n  const [filterOption, setFilterOption] = useState(\"wildcard\"); //console.log(columns)\n\n  let optionArray = [];\n  Object.keys(klubovi[0] || {}).forEach(key => optionArray.push( /*#__PURE__*/_jsxDEV(\"option\", {\n    value: key,\n    children: key\n  }, key, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 65\n  }, this)));\n\n  if (filterOption === \"wildcard\") {\n    var kluboviArray = klubovi.length > 0 ? klubovi.filter(klub => {\n      for (let value in klub) {\n        if (klub[value] === null) continue;\n        if (klub[value].toString().toLowerCase().includes(filter.toString().toLowerCase())) return true;\n      }\n\n      return false;\n    }) : [];\n  } else {\n    console.log(filterOption);\n    var kluboviArray = klubovi.length > 0 ? klubovi.filter(value => {\n      return value[filterOption].toString().toLowerCase().includes(filter.toString().toLowerCase());\n    }) : [];\n  }\n\n  useEffect(() => {\n    const res = getTreneri().then(item => {\n      setKluboviList(item.klubovi);\n      let columnsTemp = [];\n      Object.keys(item.klubovi[0]).forEach(key => columnsTemp.push({\n        name: key,\n        selector: row => row[key]\n      }));\n      console.log(columnsTemp);\n      setColumns(columnsTemp);\n    });\n  }, []);\n\n  let handleChange = event => {\n    console.log(event.target.value);\n    setFilter(event.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TableSection, {\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/\",\n        children: \" Vrati se na naslovnicu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Prikaz podataka:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterOption,\n          onChange: e => setFilterOption(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"wildcard\",\n            children: \"svi podatci\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this), optionArray]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"filter\",\n          id: \"filter\",\n          placeholder: \"filtriraj\",\n          value: filter,\n          onChange: event => {\n            handleChange(event);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n      columns: columns,\n      data: kluboviArray,\n      pagination: true,\n      highlightOnHover: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Datatable, \"xX9mEmM1gPppGKzzWi619qd9Y5I=\");\n\n_c = Datatable;\nexport default Datatable; //styles\n\nconst TableSection = styled.section`\n    margin-left: 10px;\n\n`;\n_c2 = TableSection;\nconst ExportButton = styled.button`\n  padding:5px;\n  margin: 5px;\n`;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Datatable\");\n$RefreshReg$(_c2, \"TableSection\");","map":{"version":3,"names":["React","styled","useState","useEffect","getKlubovi","getFull","exportCSV","exportJSON","DataTable","Datatable","props","klubovi","setKluboviList","columns","setColumns","filter","setFilter","filterOption","setFilterOption","optionArray","Object","keys","forEach","key","push","kluboviArray","length","klub","value","toString","toLowerCase","includes","console","log","res","getTreneri","then","item","columnsTemp","name","selector","row","handleChange","event","target","e","preventDefault","TableSection","section","ExportButton","button"],"sources":["E:/5. semestar/OtvRac/lab2-react/client/src/pages/Datatable.js"],"sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport \"../components/App.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getKlubovi, getFull, exportCSV, exportJSON } from \"../utils/fetch\";\r\n\r\n\r\nimport DataTable from 'react-data-table-component';\r\n\r\n\r\n\r\n\r\nconst Datatable = (props) => {\r\n  const [klubovi, setKluboviList] = useState([]);\r\n  const [columns, setColumns] = useState([]);\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [filterOption, setFilterOption] = useState(\"wildcard\");\r\n  \r\n  \r\n  \r\n  //console.log(columns)\r\n  let optionArray=[]\r\n  Object.keys(klubovi[0] || {}).forEach(key => optionArray.push(<option key={key} value={key}>{key}</option>))\r\n  \r\n  \r\n  if(filterOption === \"wildcard\"){\r\n\r\n    var kluboviArray = klubovi.length > 0 ? \r\n      klubovi.filter((klub)=>{\r\n        for(let value in klub){\r\n            if(klub[value] === null) continue;\r\n            if(klub[value].toString().toLowerCase().includes(filter.toString().toLowerCase())) return true;\r\n        }\r\n        return false;\r\n      }) : []\r\n  }\r\n  else{\r\n    console.log(filterOption)\r\n    var kluboviArray = klubovi.length>0 ? klubovi.filter((value)=>{\r\n        return value[filterOption].toString().toLowerCase().includes(filter.toString().toLowerCase())\r\n        }) : [];\r\n  }\r\n \r\n  \r\n  useEffect(() => {\r\n    const res = getTreneri().then((item) => {\r\n      setKluboviList(item.klubovi);\r\n      let columnsTemp=[];\r\n      \r\n      Object.keys(item.klubovi[0]).forEach(key => columnsTemp.push({name: key, selector: (row)=>row[key]}))\r\n      console.log(columnsTemp)\r\n      setColumns(columnsTemp);\r\n    });\r\n  }, []);\r\n   \r\n  let handleChange=(event)=>{\r\n    console.log(event.target.value)\r\n    setFilter(event.target.value);\r\n\r\n  }\r\n  return (<>\r\n    <TableSection>\r\n      <a href=\"/\"> Vrati se na naslovnicu</a>\r\n      <div>Prikaz podataka:</div>\r\n        <form onSubmit={(e) => e.preventDefault()}>\r\n            <select value={filterOption} onChange={(e) => setFilterOption(e.target.value)}>\r\n                <option value={\"wildcard\"}>svi podatci</option>\r\n                {optionArray}\r\n            </select>\r\n          <input type=\"text\" name=\"filter\" id=\"filter\" placeholder=\"filtriraj\" value={filter} onChange={(event)=>{handleChange(event)}}></input>\r\n        </form>\r\n\r\n    </TableSection>\r\n        <DataTable\r\n            columns={columns}\r\n            data={kluboviArray}\r\n            pagination\r\n            highlightOnHover\r\n          \r\n        />\r\n    </>\r\n  );\r\n  \r\n};\r\n\r\nexport default Datatable;\r\n\r\n//styles\r\nconst TableSection= styled.section`\r\n    margin-left: 10px;\r\n\r\n`;\r\n\r\nconst ExportButton=styled.button`\r\n  padding:5px;\r\n  margin: 5px;\r\n`;"],"mappings":"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"},"metadata":{},"sourceType":"module"}